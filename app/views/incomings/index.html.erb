<div class='row'>
  <div class='col-lg-12'>
    <div class="row wrapper border-bottom white-bg page-heading">
      <div class="col-lg-12">
        <div class="col-md-4 col-sm-4 col-xs-12">
          <div class="new-lead">
          </div>
        </div>
        <div class="col-md-4 col-sm-4 col-xs-12 text-center">
          <h2>Incoming</h2>
          <ol class="breadcrumb">
            <li>
              <a href="/dashboard">Home</a>
            </li>
            <li>
              <a href="/sales/dashboard">Sales</a>
            </li>
            <li class="active">
              <strong>Incoming</strong>
            </li>
          </ol>
        </div>
        <div class="col-md-4 col-sm-4 col-xs-12 padding-0 search-incoming-rest">
          <div class="col-md-12 col-sm-12 col-xs-12 padding-0 search">
            <%= smart_listing_controls_for(:incomings) do %>
              <div class="form-group filter input-append">
                <li class="date-form-field" style="list-style: none; margin-top:40px; position: relative;">
                  <a style="color: #ccc; position: absolute" class="submit icon-search-style">
                    <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
                  </a>
                  <%= text_field_tag :customer_name, "", name: "search_rs[search_all]", class: "", placeholder: "Name or Email"  %>
                </li>
              </div>
              <% end %>
          </div>
        </div>
      </div>
    </div>
    
    <div class='wrapper wrapper-content'>
      <div class='ibox'>
        <div class='ibox-content container-fluid white-bg'>
          <div id="vendor_filter">
            <%= smart_listing_controls_for(:incomings) do %>
              <div class="form-group filter input-append">
                <ol class='filter-form-group' >
                  <li class="select-form-field">
                   <%= select_tag :source_info_cont, options_for_select(Incoming::SOURCE_INFO.collect{|s| [s, s]}), include_blank: "-- Select Incoming Source --", name: "search[source_info_cont]"  %>
                  </li>
              
                  
                                
                  <li class="date-form-field">
                    <%= text_field_tag :created_at_gteq, "", name: "search[created_at_gteq]", class: "date-field", placeholder: "From Date"  %>  <span class='calendar-icon'></span>
                  </li> 
                  <li class="date-form-field" >
                    <%= text_field_tag :created_at_lteq, "", name: "search[created_at_lteq]", class: "date-field", placeholder: "To Date"  %>
                    <span class='calendar-icon'></span>
                  </li>  
              
                  <li>
                    <input type="submit" class="btn btn-primary filter-incoming" value="Filter" name="commit" style="margin-left: 90px; min-width: 30px !important; width: 70px; margin-top: 4px;">
                    <input type="submit" class="btn btn-primary cancel-filter filter-incoming" value="Cancel" name="commit" style="margin-left: 20px; min-width: 30px !important; width: 70px; margin-top: 4px;">
                  </li>
                </ol>
              </div>
            <% end %>
          </div>
        </div>
        <div id="listing-table">
          <%= smart_listing_render(:incomings) %>
        </div>
      </div>
    </div>
  </div>
</div>
<script language="javascript">
  $(document).ready(function() {
    
    $(document.body).delegate("#vendor_filter ol.filter-form-group li input", "change", function(e){
      e.preventDefault();
      e.stopImmediatePropagation();
      return false;
    });
    
    $('.date-field').datetimepicker({
      timepicker: false,
      format:'d-m-Y',
    }); 
    
    $(".select-form-field select").selectbox({
      onChange: function(val){
        $("select#source_info_cont").val(val);
      }
    });   
    
    
  
  });  
</script>

   

